# Ecommerce SQL Analysis - README

This document outlines the SQL operations performed on a sample Ecommerce database using SQLite. It includes the use of aggregate functions, view creation for analysis, and query optimization using indexes.

## ðŸ“‚ Tables Used
- **Order_Items**: Contains details about each item in an order including `order_id`, `product_id`, `quantity`, and `unit_price`.
- Other assumed tables: `Orders`, `Products`, `Customers` (if available).

---

## ðŸ§® Aggregate Function Queries

### 1. Total Revenue
Calculates the total revenue from all order items.

```sql
SELECT SUM(unit_price * quantity) AS total_revenue
FROM Order_Items;
```

---

### 2. Average Order Value
Calculates the average revenue per order based on individual order totals.

```sql
SELECT AVG(order_total) AS avg_order_value
FROM (
    SELECT order_id, SUM(unit_price * quantity) AS order_total
    FROM Order_Items
    GROUP BY order_id
) AS OrderTotals;
```

---

### 3. Total Revenue per Product
Returns revenue generated by each product.

```sql
SELECT product_id, SUM(unit_price * quantity) AS product_revenue
FROM Order_Items
GROUP BY product_id;
```

---

## ðŸ§¾ Views for Analysis

### 1. Order Totals
Summarizes the total value of each order.

```sql
CREATE VIEW OrderTotals AS
SELECT order_id, SUM(unit_price * quantity) AS total_amount
FROM Order_Items
GROUP BY order_id;
```

---

### 2. Product Sales Summary
Returns sales quantity and total revenue per product.

```sql
CREATE VIEW ProductSalesSummary AS
SELECT product_id, SUM(quantity) AS total_units_sold, SUM(unit_price * quantity) AS total_revenue
FROM Order_Items
GROUP BY product_id;
```

---

## âš¡ Indexes for Optimization

Indexing improves query performance by speeding up table scans, especially on large datasets.

```sql
-- Index for order-related queries
CREATE INDEX idx_order_items_order_id ON Order_Items(order_id);

-- Index for product-related queries
CREATE INDEX idx_order_items_product_id ON Order_Items(product_id);
```

---

## âœ… Notes
- Ensure you have the `Order_Items` table with `unit_price` and `quantity` columns.
- Views can be queried directly for efficient analytical operations.
- Index creation is optional but recommended for large-scale databases.

---

## ðŸ“ž Contact
For issues or questions, feel free to reach out to your database administrator or instructor.